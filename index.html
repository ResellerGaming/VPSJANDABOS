<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VPS Manager Galaxy</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --glow: #00f0ff;
      --purple: #9d4edd;
      --dark: #020111;
    }
    *{box-sizing:border-box;font-family:'Orbitron',sans-serif}
    body{
      margin:0;
      min-height:100vh;
      background:var(--dark) url('https://i.ibb.co/ckLJmqm/galaxy-gif.gif') center/cover no-repeat fixed;
      color:#fff;
      overflow-x:hidden;
    }
    /* animasi twinkle */
    @keyframes twinkle{
      0%,100%{opacity:.3}
      50%{opacity:1}
    }
    .stars{
      position:fixed;top:0;left:0;width:100%;height:100%;
      background:url('https://www.transparenttextures.com/patterns/stardust.png');
      animation:twinkle 6s infinite;
      pointer-events:none;
      z-index:0;
    }
    h1{text-align:center;margin:1.5rem 0;font-size:2.2rem;text-shadow:0 0 10px var(--glow)}
    .container{max-width:900px;margin:auto;padding:0 1rem;position:relative;z-index:1}
    .card{
      background:rgba(255,255,255,.07);
      border:1px solid rgba(0,240,255,.25);
      border-radius:16px;
      padding:1.5rem;
      margin-bottom:1.5rem;
      backdrop-filter:blur(10px);
      box-shadow:0 0 20px rgba(0,240,255,.15);
    }
    .grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    input,select,button{
      width:100%;
      padding:.75rem 1rem;
      border-radius:8px;
      border:1px solid var(--glow);
      background:rgba(0,0,0,.35);
      color:#fff;
      font-size:.9rem;
      transition:.3s;
    }
    input:focus,select:focus{outline:none;box-shadow:0 0 8px var(--glow)}
    button{
      background:linear-gradient(45deg,var(--purple),var(--glow));
      border:none;font-weight:700;cursor:pointer;text-transform:uppercase;letter-spacing:1px
    }
    button:hover{filter:brightness(1.2)}
    table{width:100%;border-collapse:collapse;margin-top:1rem;font-size:.85rem}
    th,td{padding:.6rem .5rem;text-align:center;border:1px solid rgba(0,240,255,.2)}
    th{background:rgba(0,0,0,.4);color:var(--glow)}
    .btn-del{
      background:transparent;border:1px solid var(--danger);color:var(--danger);padding:.3rem .6rem;border-radius:6px;cursor:pointer
    }
    .btn-del:hover{background:var(--danger);color:#fff}
    @media (max-width:600px){
      h1{font-size:1.7rem}
      table{font-size:.75rem}
    }
  </style>
</head>
<body>
  <div class="stars"></div>
  <div class="container">
    <h1>ðŸŒŒ VPS Manager Galaxy</h1>

    <div class="card">
      <form id="vpsForm" class="grid">
        <input type="text" id="ip" placeholder="IP VPS" required/>
        <input type="text" id="username" placeholder="Username" required/>
        <input type="datetime-local" id="purchaseTime" required/>
        <input type="number" id="warrantyDays" placeholder="Garansi (hari)" required min="1"/>
        <select id="package" required>
          <option value="">Pilih Paket</option>
          <option value="1">Paket 1</option>
          <option value="2">Paket 2</option>
          <option value="3">Paket 3</option>
        </select>
        <button type="submit">Tambah VPS</button>
      </form>
    </div>

    <div class="card">
      <button class="export-btn" onclick="exportJSON()">ðŸ“¥ Export JSON</button>
      <div style="overflow-x:auto;">
        <table id="vpsTable">
          <thead>
            <tr>
              <th>IP</th>
              <th>Username</th>
              <th>Waktu Beli</th>
              <th>Paket</th>
              <th>Garansi Habis</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    const STORAGE_KEY = 'vpsData';
    let vpsData = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');

    function render() {
      const tbody = document.querySelector('#vpsTable tbody');
      tbody.innerHTML = '';
      vpsData.forEach((item, idx) => {
        const expiry = new Date(new Date(item.purchaseTime).getTime() + item.warrantyDays * 864e5);
        tbody.insertAdjacentHTML('beforeend', `
          <tr>
            <td>${item.ip}</td>
            <td>${item.username}</td>
            <td>${new Date(item.purchaseTime).toLocaleString()}</td>
            <td>Paket ${item.package}</td>
            <td>${expiry.toLocaleDateString()}</td>
            <td><button class="btn-del" onclick="deleteVps(${idx})">Hapus</button></td>
          </tr>
        `);
      });
    }

    document.getElementById('vpsForm').addEventListener('submit', (e) => {
      e.preventDefault();
      vpsData.push({
        ip: document.getElementById('ip').value,
        username: document.getElementById('username').value,
        purchaseTime: document.getElementById('purchaseTime').value,
        warrantyDays: parseInt(document.getElementById('warrantyDays').value),
        package: document.getElementById('package').value
      });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(vpsData));
      e.target.reset();
      render();
    });

    function deleteVps(idx) {
      if (!confirm('Hapus entri ini?')) return;
      vpsData.splice(idx, 1);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(vpsData));
      render();
    }

    function exportJSON() {
      const blob = new Blob([JSON.stringify(vpsData, null, 2)], { type: 'application/json' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'data_vps.json';
      a.click();
    }

    render();
  </script>
</body>
</html>
